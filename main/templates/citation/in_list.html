{# Expects context: bibliographic item as data, forloop #}

{% load relaton %}

<article class="{% include "_list_item_classes.html" %} bibitem-in-list">
  <div class="{% include "_list_item_inner_classes.html" %}">
    <p class="px-4 mb-1 bibitem-title font-serif tracking-tight leading-tight">
      <a class="link no-underline" href="{% include "citation/srp_link_href.html" with bibitem=data query=request.GET.query query_format=query_format page=page_obj %}">
        {% include "relaton/smart_title.html" with bibitem=data %}
      </a>
    </p>

    <div class="
      mb-1
      bibitem-docids
      {% if data.docid|as_list|length > 1 %}
        md:grid md:grid-cols-6
      {% endif %}
      leading-tight text-sm
    ">
      {% include "relaton/doc_ids.html" with ids=data.docid|as_list query=query tabindex="0" %}
    </div>

    {% if data.headline %}
      <div class="px-4 text-xs leading-tight">{{ data.headline|safe }}</div>
    {% endif %}
  </div>
</article>
